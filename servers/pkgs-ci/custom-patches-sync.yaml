- job-template:
    name: 'mos9.0-{project}-custom-patches'
    wrappers:
        - ssh-agent-credentials:
            users:
              - '{gerrit-creds}'
        - timeout:
            timeout: 10
    builders:
        - inject:
            properties-content: |
                CUSTOM_PATCHES_GERRIT_URI=ssh://{gerrit-user}@{gerrit-host}:{gerrit-port}/openstack/{project}
                CUSTOM_PATCHES_OLD_BRANCH={old-branch}
                CUSTOM_PATCHES_NEW_BRANCH={new-branch}
                CUSTOM_PATCHES_TOPIC={gerrit-topic}
        - shell:
            !include-raw-escape common/scripts/custompatches.py


- project:
    name: 'mos9.0-{project}-custom-patches'
    jobs:
        - 'mos9.0-{project}-custom-patches'

    # Script parameters
    old-branch: openstack-ci/fuel-8.0/liberty
    new-branch: 9.0/mitaka
    gerrit-topic: custom/patches/9.0

    # Gerrit parameters
    gerrit-host: 'review.fuel-infra.org'
    gerrit-port: '29418'
    gerrit-user: 'openstack-ci-mirrorer-jenkins'
    gerrit-creds: 'a4be8c41-43e0-4269-94d8-53133cfe3ae5'

    project:
        - ceilometer
        - ceilometermiddleware
        - cinder
        - django_openstack_auth
        - glance
        - glance_store
        - heat
        - horizon
        - horizon-vendor-theme
        - ironic
        - ironic-lib
        - keystone
        - keystoneauth
        - keystonemiddleware
        - murano
        - murano-api
        - murano-apps
        - murano-dashboard
        - neutron
        - neutron-fwaas
        - neutron-lbaas
        - neutron-lib
        - neutron-vpnaas
        - nova
        - os-brick
        - oslo.cache
        - oslo.concurrency
        - oslo.config
        - oslo.context
        - oslo.db
        - oslo.i18n
        - oslo.log
        - oslo.messaging
        - oslo.middleware
        - oslo.policy
        - oslo.reports
        - oslo.rootwrap
        - oslo.serialization
        - oslo.service
        - oslo.utils
        - oslo.version
        - oslo.versionedobjects
        - oslo.vmware
        - oslosphinx
        - oslotest
        - python-ceilometerclient
        - python-cinderclient
        - python-glanceclient
        - python-heatclient
        - python-ironicclient
        - python-keystoneclient
        - python-muranoclient
        - python-neutronclient
        - python-novaclient
        - python-openstackclient
        - python-saharaclient
        - python-swiftclient
        - sahara
        - sahara-dashboard
        - sahara-image-elements
        - swift
