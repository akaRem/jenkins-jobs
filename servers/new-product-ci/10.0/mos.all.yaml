- project:
    name: '10.0 iso with Fuel downstream packages'
    version: '10.0'
    branch: 'mos/newton'
    upstream_branch: 'master'
    mod: '-mos'
    timer: '0 3-23/6 * * *'
    jobs:
      - 'mos-{version}{mod}.all':
          description: 'Build ISO with Fuel Downstream code'
          variables: |
            FUEL_UI_COMMIT={branch}
            NAILGUN_COMMIT={branch}

            FUELLIB_COMMIT={upstream_branch}
            PYTHON_FUELCLIENT_COMMIT={upstream_branch}
            FUEL_AGENT_COMMIT={upstream_branch}
            FUEL_NAILGUN_AGENT_COMMIT={upstream_branch}
            ASTUTE_COMMIT={upstream_branch}
            OSTF_COMMIT={upstream_branch}
            FUEL_MIRROR_COMMIT={upstream_branch}
            FUELMENU_COMMIT={upstream_branch}
            SHOTGUN_COMMIT={upstream_branch}
            NETWORKCHECKER_COMMIT={upstream_branch}
            FUELUPGRADE_COMMIT={upstream_branch}

            MOS_CENTOS_ROOT=/mos-repos/centos/mos-master-centos7/
            MOS_UBUNTU_TARGET=master.target.txt
            MIRROR_MOS_UBUNTU_SUITE=mos-master
      - 'product-{version}{mod}.test_all'
      - '{version}{mod}.main.{dist}.{testgroup}':
          dist: 'ubuntu'
          testgroup: 'bvt_2'
          repobranch: '{upstream_branch}'
      - '{version}{mod}.main.{dist}.{testgroup}':
          dist: 'ubuntu'
          testgroup: 'smoke_neutron'
          repobranch: '{upstream_branch}'
      - '{version}{mod}.iso-report':
          repobranch: '{branch}'
