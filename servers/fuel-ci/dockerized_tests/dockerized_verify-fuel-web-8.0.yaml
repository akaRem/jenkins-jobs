- project:
    name: dualcheck-docker-fuel-web-8.0
    docker_image: 'fuel-ci/fuel-web-ui-8.0'
    volumes: '$WORKSPACE:/opt/jenkins/fuel-web'
    gerrit_project_pattern: 'openstack/fuel-web'
    runner_args: '--with-xunit --no-webui'
    non_voting: false
    test_variables: |
      ENVVARS=-e TEST_NAILGUN_DB=nailgun -e TOXENV=py27
    gerrit_branches:
      - branch-compare-type: PLAIN
        branch-pattern: 'stable/8.0'
    suffix: 'docker-fuel-web-8.0'
    job_publishers:
      - 'email-{email-type}'
      - junit:
          keep-long-stdio: false
          results: '**/nosetests.xml,**/nailgun.xml,**/fuelclient.xml,**/shotgun.xml'
      - description-setter:
          regexp-for-failed: '(Failed tests: (.*))'
    jobs:
      - 'dockerized-{name}':
          name: 'verify-{suffix}'
          gerrit_trigger_on:
            - patchset-created-event
            - comment-added-contains-event:
                comment-contains-value: '{gerrit_trigger_on_recheck_regexp}'
          email-type: default
          scm:
            - gerrit-openstack:
                repo: '{gerrit_project_pattern}'
          timed: '0 11 * * *'
      - 'dockerized-{name}':
          name: 'gate-{suffix}'
          gerrit_trigger_on:
            - change-merged-event
          email-type: alert-on-merge
          scm:
            - gerrit-openstack-branch:
                repo: '{gerrit_project_pattern}'